{% block vivatura_translator_settings %}
<sw-page class="vivatura-translator-settings">
    {% block vivatura_translator_settings_header %}
    <template #smart-bar-header>
        <h2>{{ $tc('vivatura-translator.settings.title') }}</h2>
    </template>
    {% endblock %}

    {% block vivatura_translator_settings_actions %}
    <template #smart-bar-actions>
        <sw-button
            variant="primary"
            :isLoading="isSaving"
            @click="savePrompts"
        >
            {{ $tc('vivatura-translator.settings.save') }}
        </sw-button>
    </template>
    {% endblock %}

    {% block vivatura_translator_settings_content %}
    <template #content>
        <sw-card-view>
            <sw-loader v-if="isLoading"></sw-loader>

            {% block vivatura_translator_settings_info %}
            <sw-card :title="$tc('vivatura-translator.settings.infoTitle')">
                <p>{{ $tc('vivatura-translator.settings.infoText') }}</p>
                <p class="vivatura-translator-settings__hint">
                    <sw-icon name="regular-info-circle" small></sw-icon>
                    {{ $tc('vivatura-translator.settings.fallbackHint') }}
                </p>
            </sw-card>
            {% endblock %}

            {% block vivatura_translator_settings_languages %}
            <sw-card 
                v-if="!isLoading"
                :title="$tc('vivatura-translator.settings.languagePromptsTitle')"
            >
                <div class="vivatura-translator-settings__language-list">
                    <div 
                        v-for="language in languages"
                        :key="language.id"
                        class="vivatura-translator-settings__language-item"
                    >
                        <div class="vivatura-translator-settings__language-header">
                            <strong>{{ getLanguageDisplayName(language) }}</strong>
                        </div>
                        <sw-textarea-field
                            :value="getPromptForLanguage(language.id)"
                            :placeholder="$tc('vivatura-translator.settings.promptPlaceholder')"
                            @input="setPromptForLanguage(language.id, $event)"
                        ></sw-textarea-field>
                    </div>
                </div>
            </sw-card>
            {% endblock %}

        </sw-card-view>
    </template>
    {% endblock %}
</sw-page>
{% endblock %}
